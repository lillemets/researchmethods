---
title: Descriptive statistics
subtitle: Research methods
author: JÃ¼ri Lillemets
date: "`r Sys.Date()`"
knit: rmarkdown::render
---

``` {r setup, include = F}
# Settings
knitr::opts_chunk$set(echo = F, dpi = 150, fig.height = 4)
# Load packages
library('magrittr');library('knitr')
```

class: center middle clean

# How do describe data?

---

Any data analysis should begin with and include the description of values.

Descriptive statistics only allows us to describe the data we have. We can not make inferences on population if we only have a sample.

For nominal and ordinal variables we can count them and find mode and/or mean. For sequence of numbers there is a variety of measures for describing values.

---

class: center middle

## How would you describe this sequence of values?

``` {r}
values <- Orange$circumference[1:12]
values
```

???

Simplistic but necessary part on analysis. E.g. using survey results to make inferences. Circumference of orange trees at breast height (mm).

---

class: center middle inverse

# Central tendency

???

A concise way to represent numeric values is expressing the center of values. Central value, typical value, expected value. Note that estimating a central tendency is only meaningful if the distribution of values is unimodal.

---

## Mode

Mode is simply the most frequent value in a sequence. 

--

``` {r, echo = T}
sort(values)
```

???

Useful for nominal and ordinal variables but rarely used for numeric variables, especially on a continuous scale.

---

## Median

When sequence of values is ordered, the value in the middle is median. 

--

``` {r, echo = T}
sort(values)
length(values)
median(values)
```

???

Case when odd or even number of values in sequence.

---

## Mean

We consider the arithmetic mean.

It's the sum of values divided by number of values:

$$\bar{X} = \frac{1}{N} \sum{^N_{i=1}}{X_i}$$

In statistics, mean is often referred to as expected value, i.e. $E(x)$.

--

``` {r, echo = T}
values
sum(values) / length(values)
```

---

## Mean or median?

``` {r}
set.seed(123)
par(mar = c(2,4,2,4))
v <- c(rnorm(100, mean(values), sd(values)), 
       rnorm(50, mean(values)+200, sd(values)+100))
hist(v, 10, freq = F, main = NULL, xlab = NULL)
lines(density(v))
abline(v = c(mean(v), median(v)), col = '#018c81', lwd = 2)
```

---

class: center middle inverse

# Variability

???

Central tendency tells nothing about the deviation of values from that mean. Variability provides another perspective.

---

## Range

Most simple way to express variability is to indicate the range of all values, i.e. the minimum and maximum values.

--

``` {r, echo = T}
sort(values)
range(values)
```

---

## Quantiles

Quantiles can be found by dividing ordered sequence of values into $k$ equally sized groups. Quantiles then represent the lower bounds of these groups.

Median is the 2nd quantile when $k = 2$. When $k = 4$ quantiles are called quartiles and deciles (percentiles) when $k = 100$.

--

``` {r, echo = T}
sort(values)
quantile(values, probs = seq(0, 1, .1)) # Deciles
```

---

Interquartile range (IQR) is the difference between 2nd and 4th quartiles.

``` {r, echo = T}
quantile(values) # Quartiles
IQR(values)
```

???
Percentiles are not used very often but they are great for describing values.

---

## Variance

Variance is mean squared difference from the mean value:

$$Var(X) = \frac{1}{N} \sum{^N_{i=1}{(X_i-\bar{X})^2}}$$

--

``` {r, echo = T}
values
var(values)
```

???
Useful only in statistical calculations.

---

## Standard deviation

Standard deviation is the square root of variance.

$$s(X) = \sqrt{ \frac{1}{N} \sum{^N_{i=1}{(X_i-\bar{X})^2}}}$$

--

``` {r, echo = T}
sort(values)
mean(values)
sd(values)
```

---

Standard deviation together with mean are useful for description of normally distributed values.

``` {r}
set.seed(123)
v <- rnorm(100, mean(values), sd(values))
hist(v, 10, freq = F, main = NULL, xlab = NULL)
lines(density(v))
m <- mean(v)
abline(v = c(m, m - sd(v), m + sd(v)), col = '#018c81', lwd = 2)
```

---

class: center middle inverse

# Plots

???

Plotting allows to present values more intuitively or even depict all of the values at once.

---

class: middle

Why do we need plots?

![](../img/datasaurusdozen.gif)

---

## Scatterplot

We can simply plot values of one variable against another.

``` {r, echo = F}
plot(circumference ~ age, Orange, col = Tree)
```

---

## Boxplot

Boxplots illustrate the quartiles of values and extreme values. 

Half of all the values lie within the box and another half on the lines, outliers excluded.

---

``` {r, echo = F}
quantile(Orange$circumference)
par(mar = c(2,4,1,4))
boxplot(Orange$circumference)
```

---

Boxplots are useful for comparing values in groups.

``` {r}
par(mar = c(4,4,0,0))
boxplot(circumference ~ age, Orange)
```

???

Age is in days.

---

## Histogram

Histograms are essentially barplots where all values are divided between ranges of equal with, i.e. bins.

--
``` {r, fig.height = 3}
sort(Orange$circumference)
b <- seq(min(Orange$circumference), max(Orange$circumference)+20, 20)
par(mar = c(4,4,0,0))
hist(Orange$circumference, b, main = NULL, xlab = NULL, xaxt = 'n')
axis(1, b, b)
```

---

## Density plot

Instead of bins, distribution of values can also be expressed continuously by smoothing the bins.

Smoothing is done using some bandwidth and kernel smoothing algorithm.

--

``` {r, fig.height = 3}
par(mfrow = 1:2, mar = c(4,4,0,0))
plot(density(v), main = NULL)
hist(Orange$circumference, freq = F, main = NULL, xlab = NULL)
lines(density(v))
```

---

Sometimes you just shouldn't create a graph.

![](../img/self_description.png)

---

class: inverse